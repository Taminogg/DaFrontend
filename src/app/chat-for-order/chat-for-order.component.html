<div class="chat-container">
  <h1>CHAT for order {{id}}</h1>
  <br>

  <div class="scroll-container">
    <div class="chat-message user-message">
      @for (message of messagesForConversation(); track $index) {
        <label class="datetime">{{message.dateTime}}</label>
        <label class="content">{{message.content}}</label>
        <br>
      }
    </div>
  </div>

  <div class="input-area">
    <input [ngSignal]="messageContent" (keyup.enter)="sendMessage()" type="text">
    <br>

    <div class="form-group">
      <button [disabled]="!hasMessageContent()" (click)="sendMessage()">Send</button>
      <button id="loadFileXml" value="loadXml" onclick="document.getElementById('file').click();">Choose File</button>
      <input style="display:none;" id="file" name="file" type="file" (change)="handleFileInput($event)">
    </div>
  </div>
  <br>

  <div class="file-input-area">
    @if (fileToUpload) {
    <div class="selected-file">
      <p>Selected File: {{ fileToUpload.name }}</p>
      <p>File Size: {{ fileToUpload.size / 1024 | number: '1.2-2' }} KB</p>
    </div>
    }
  </div>
</div>
